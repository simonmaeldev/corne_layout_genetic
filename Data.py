
not_stackable = ["A", "À", "B", "C", "D", "E", "É", "È", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "TAB"]

custom_stack = [(".", ":"), (",", ";"), ("^", "¨"), ("SQT", "DQT"), ("!", "?"), ("_", "-")]

other_symbols = ["(", "*", "/", "=", "{", "<", ">", "@", "+", "#", "[", "BSLH", "%"]

char_to_set = ['A', 'À', 'B', 'C', 'D', 'E', 'É', 'È', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'TAB', '.', ',', '^', 'SQT', '!', '_']

accent_ignore = char_to_set + ['RET', 'SPACE', 'DQT', 'LALT', 'DEL', 'ENTER', 'BSPC', 'ESC']

software = {
    "A" : [["A"]],
    "À" : [["GRAVE", "A"]],
    "Â" : [["CARET", "A"]],
    "Æ" : [["RA(Z)"]],
    "B" : [["B"]],
    "C" : [["C"]],
    "Ç" : [["SQT", "C"], ["RA(COMMA)"]],
    "D" : [["D"]],
    "E" : [["E"]],
    "É" : [["SQT", "E"], ["RA(E)"]],
    "È" : [["GRAVE", "E"]],
    "Ê" : [["CARET", "E"]],
    "Ë" : [["DQT", "E"]],
    "F" : [["F"]],
    "G" : [["G"]],
    "H" : [["H"]],
    "I" : [["I"]],
    "Î" : [["CARET", "I"]],
    "Ï" : [["DQT", "I"]],
    "J" : [["J"]],
    "K" : [["K"]],
    "L" : [["L"]],
    "M" : [["M"]],
    "N" : [["N"]],
    "O" : [["O"]],
    "Ô" : [["CARET", "O"]],
    "Œ" : [["RA(K)"]],
    "P" : [["P"]],
    "Q" : [["Q"]],
    "R" : [["R"]],
    "S" : [["S"]],
    "T" : [["T"]],
    "U" : [["U"]],
    "Û" : [["CARET", "U"]],
    "Ü" : [["DQT", "U"]],
    "Ù" : [["GRAVE", "U"]],
    "V" : [["V"]],
    "W" : [["W"]],
    "X" : [["X"]],
    "Y" : [["Y"]],
    "Z" : [["Z"]],
    "1" : [["N1"]],
    "2" : [["N2"]],
    "3" : [["N3"]],
    "4" : [["N4"]],
    "5" : [["N5"]],
    "6" : [["N6"]],
    "7" : [["N7"]],
    "8" : [["N8"]],
    "9" : [["N9"]],
    "0" : [["N0"]],
    "-" : [["MINUS"]],
    "=" : [["EQUAL"]],
    "!" : [["LS(N1)"],["EXCL"]],
    "@" : [["LS(N2)"], ["AT"]],
    "#" : [["LS(N3)"], ["HASH"]],
    "$" : [["LS(N4)"], ["DOLLAR"]],
    "%" : [["LS(N5)"], ["PERCENT"]],
    "^" : [["LS(N6)", "SPACE"], ["CARET", "SPACE"], ["LS(RA(N6))"]],
    "&" : [["LS(N7)"], ["AMPS"]],
    "*" : [["LS(N8)"], ["STAR"]],
    "(" : [["LS(N9)"], ["LPAR"]],
    ")" : [["LS(N0)"], ["RPAR"]],
    "_" : [["LS(MINUS)"], ["UNDER"]],
    "+" : [["LS(EQUAL)"], ["PLUS"]],
    "[" : [["LBKT"]],
    "]" : [["RBKT"]],
    "{" : [["LBRC"]],
    "}" : [["RBRC"]],
    "\\" : [["BSLH"]],
    "|" : [["LS(BSLH)"], ["PIPE"]],
    ";" : [["SEMI"]],
    ":" : [["LS(SEMI)"], ["COLON"]],
    "'" : [["SQT", "SPACE"], ["RA(SQT)"]],
    "\"" : [["LS(SQT)", "SPACE"], ["DQT", "SPACE"], ["LS(RA(SQT))"]],
    "`" : [["GRAVE", "SPACE"], ["RA(GRAVE)"]],
    "~" : [["LS(GRAVE)", "SPACE"], ["TILDE", "SPACE"], ["LS(RA(GRAVE))"]],
    "," : [["COMMA"]],
    "." : [["DOT"]],
    "/" : [["FSLH"]],
    "<" : [["LS(COMMA)"], ["LT"]],
    ">" : [["LS(DOT)"], ["GT"]],
    "?" : [["LS(FSLH)"], ["QMARK"]],
    " " : [["SPACE"]],
    "\n" : [["RET"]],
    "SPACE" : [["SPACE"]],
    "ESC" : [["ESC"]],
    "TAB" : [["TAB"]],
    "BSPC" : [["BSPC"]],
    "DEL" : [["DEL"]],
    "HOME" : [["HOME"]],
    "END" : [["END"]],
    "PG_UP" : [["PG_UP"]],
    "PG_DN" : [["PG_DN"]],
    "UP" : [["UP"]],
    "DOWN" : [["DOWN"]],
    "LEFT" : [["LEFT"]],
    "RIGHT" : [["RIGHT"]],
    "LSHIFT" : [["LSHIFT"]],
    "RSHIFT" : [["RSHIFT"]],
    "LCTRL" : [["LCTRL"]],
    "RCTRL" : [["RCTRL"]],
    "LALT" : [["LALT"]],
    "RALT" : [["RALT"]],
    "LGUI" : [["LGUI"]],
    "RGUI" : [["RGUI"]],
}

def get_mods_and_code(str):
    mods = []
    code = str
    if "(" in str and ")" in str :
        par = str.find("(")
        mod = str[:par]
        end = str.rfind(")")
        mods_r, code = get_mods_and_code(str[par + 1:end])
        mods = mods_r + [mod]
    return mods, code

frequencies_en = {'e': 12.702, 's': 6.327, 'a': 8.167, 'i': 6.966, 't': 9.056, 'n': 6.749, 'r': 5.987, 'u': 2.758, 'o': 7.507, 'l': 4.025, 'd': 4.253, 'c': 2.782, 'm': 2.406, 'p': 1.929, 'v': 0.978, 'é'
: 0.0, 'q': 0.095, 'f': 2.228, 'b': 1.492, 'g': 2.015, 'h': 6.094, 'j': 0.153, 'à': 0.0, 'x': 0.15, 'z': 0.074, 'è': 0.0, 'ê': 0.0, 'y': 1.974, 'ç': 0.0, 'k': 0.772, 'û': 0.0, 'ù': 0.0,
 'â': 0.0, 'w': 2.36, 'î': 0.0, 'ô': 0.0, 'œ': 0.0, 'ë': 0.0, 'ï': 0.0}

frequencies_fr = {'e': 14.715, 's': 7.948, 'a': 7.636, 'i': 7.529, 't': 7.244, 'n': 7.095, 'r': 6.693, 'u': 6.311, 'o': 5.796, 'l': 5.456, 'd': 3.669, 'c': 3.26, 'm': 2.968, 'p': 2.521, 'v': 1.838, 'é':
 1.504, 'q': 1.362, 'f': 1.066, 'b': 0.901, 'g': 0.866, 'h': 0.737, 'j': 0.613, 'à': 0.486, 'x': 0.427, 'z': 0.326, 'è': 0.271, 'ê': 0.218, 'y': 0.128, 'ç': 0.085, 'k': 0.074, 'û': 0.06
, 'ù': 0.058, 'â': 0.051, 'w': 0.049, 'î': 0.045, 'ô': 0.023, 'œ': 0.018, 'ë': 0.008, 'ï': 0.005}

digrams_fr = {
"AI":1.94,
"AN":1.33,
"AR":0.84,
"AU":0.87,
"CE":0.78,
"CH":0.82,
"CO":0.95,
"DE":2.31,
"EM":0.77,
"EN":2.45,
"ER":1.40,
"ES":2.43,
"ET":1.28,
"EU":0.95,
"IE":0.81,
"IL":1.00,
"IN":0.89,
"IS":1.22,
"IT":1.33,
"LA":1.23,
"LE":2.60,
"MA":0.87,
"ME":1.23,
"NE":0.91,
"NS":0.82,
"NT":1.87,
"ON":1.69,
"OU":1.92,
"PA":0.87,
"QU":1.15,
"RA":0.92,
"RE":2.06,
"SE":1.03,
"TE":1.29,
"TI":0.80,
"TR":0.79,
"UE":0.98,
"UN":0.76,
"UR":1.38,
"US":0.97,
"VE":0.88
}

trigrams_fr = {
"ENT": 1.42,
"QUE": 1.07,
"AIT": 0.92,
"LES": 0.81,
"LLE": 0.79,
"OUR": 0.79,
"MEN": 0.75,
"AIS": 0.66,
"EST": 0.57,
"TRE": 0.57,
"MAI": 0.53,
"OUS": 0.53,
"PAR": 0.53,
"ANT": 0.52,
"ION": 0.52,
"EME": 0.51,
"TAI": 0.50,
"ANS": 0.50,
"PAS": 0.48,
"ELL": 0.48,
"VOU": 0.47,
"TOU": 0.47,
"POU": 0.46,
"EUR": 0.45,
"ONT": 0.45,
"RES": 0.45,
"DAN": 0.45,
"UNE": 0.44,
"ÉTA": 0.44,
"IEN": 0.42,
"SUR": 0.42,
"SON": 0.41,
"MME": 0.40,
"TIO": 0.39,
"DES": 0.39,
"IRE": 0.38,
"COM": 0.37,
"OMM": 0.37,
"VER": 0.37,
"CON": 0.35,
"CHE": 0.35,
"AVE": 0.35,
"AIN": 0.35,
"URE": 0.34,
"OUT": 0.33,
"PLU": 0.32,
"CHA": 0.32,
"EUX": 0.31,
"AVA": 0.31,
"OUV": 0.30,
"NTE": 0.30,
"LUS": 0.30,
"FAI": 0.30,
"ATI": 0.30
}

digrmas_en = {
"TH" : 2.71,
"EN" : 1.13,
"NG" : 0.89,
"HE" : 2.33,
"AT" : 1.12,
"AL" : 0.88,
"IN" : 2.03,
"ED" : 1.08,
"IT" : 0.88,
"ER" : 1.78,
"ND" : 1.07,
"AS" : 0.87,
"AN" : 1.61,
"TO" : 1.07,
"IS" : 0.86,
"RE" : 1.41,
"OR" : 1.06,
"HA" : 0.83,
"ES" : 1.32,
"EA" : 1.00,
"ET" : 0.76,
"ON" : 1.32,
"TI" : 0.99,
"SE" : 0.73,
"ST" : 1.25,
"AR" : 0.98,
"OU" : 0.72,
"NT" : 1.17,
"TE" : 0.98,
"OF" : 0.71
}

trigrams_en = {
"THE" : 1.81,
"ERE" : 0.31,
"HES" : 0.24,
"AND" : 0.73,
"TIO" : 0.31,
"VER" : 0.24,
"ING" : 0.72,
"TER" : 0.30,
"HIS" : 0.24,
"ENT" : 0.42,
"EST" : 0.28,
"OFT" : 0.22,
"ION" : 0.42,
"ERS" : 0.28,
"ITH" : 0.21,
"HER" : 0.36,
"ATI" : 0.26,
"FTH" : 0.21,
"FOR" : 0.34,
"HAT" : 0.26,
"STH" : 0.21,
"THA" : 0.33,
"ATE" : 0.25,
"OTH" : 0.21,
"NTH" : 0.33,
"ALL" : 0.25,
"RES" : 0.21,
"INT" : 0.32,
"ETH" : 0.24,
"ONT" : 0.20
}

frequencies_java : {
    "." : 16.6,
    "(" : 11.4,
    ";" : 9,
    "*" : 7,
    "," : 5.1,
    "/" : 4.7,
    "DQT" : 4.6,
    "=" : 4,
    "{" : 3.9,
    "-" : 2.1,
    "<" : 1.3,
    ">" : 1.3,
    "_" : 1.1,
    "@" : 1.1,
    "+" : 0.9
}

frequencies_py : {
    "_" : 10.5,
    "." : 10.3,
    "SQT" : 8.6,
    "(" : 8.1,
    "," : 7.5,
    'DQT' : 6.2,
    "=" : 5.4,
    ":" : 4.7,
    "#" : 3.2,
    "-" : 3,
    ">" : 1.4,
    "[" : 1.2,
    "BSLH": 1.1,
    "/" : 1.1,
    "%" : 1.0
}

frequencies_shell : {
    "TAB" : 70,
    "/" : 30
}